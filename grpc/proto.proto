syntax = "proto3";
option go_package = "chitchat/grpc";

message Message {
    repeated int32 time_stamp = 1; //timestamp - list of int
    int32 user_id = 2; 
    string text = 3; 
    bool status_update = 4;
}

message User {
    repeated int32 time_stamp = 1;
    int32 id = 2; 
}

message Empty {
    // if a user joins the server 
}

service Chitchat {
    rpc GetUserID (Empty) returns (User);
    rpc Join (User) returns (stream Message); // when a user joins, they send a empty and receives a user_id
    rpc Leave (User) returns (Empty); // leave baby
    rpc PostMessage (Message) returns (Empty); // user sends message and dont receive anything back ofc
}